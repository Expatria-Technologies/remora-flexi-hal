11c11
<     printf("\n%s\n",comment);
---
>     printf("%s\n",comment);
13a14
>     const char* enable = module["Enable Pin"];
23c24
<     Module* stepgen = new Stepgen(base_freq, joint, step, dir, STEPBIT, *ptrJointFreqCmd[joint], *ptrJointFeedback[joint], *ptrJointEnable);
---
>     Module* stepgen = new Stepgen(base_freq, joint, enable, step, dir, STEPBIT, *ptrJointFreqCmd[joint], *ptrJointFeedback[joint], *ptrJointEnable);
25d25
<     baseThread->registerModulePost(stepgen);
28a29
> 
33c34
< Stepgen::Stepgen(int32_t threadFreq, int jointNumber, std::string step, std::string direction, int stepBit, volatile int32_t &ptrFrequencyCommand, volatile int32_t &ptrFeedback, volatile uint8_t &ptrJointEnable) :
---
> Stepgen::Stepgen(int32_t threadFreq, int jointNumber, std::string enable, std::string step, std::string direction, int stepBit, volatile int32_t &ptrFrequencyCommand, volatile int32_t &ptrFeedback, volatile uint8_t &ptrJointEnable) :
34a36
> 	enable(enable),
41a44
> 	//this->enablePin = new Pin(this->enable, OUTPUT);			// create Pins
58,62d60
< void Stepgen::updatePost()
< {
< 	this->stopPulses();
< }
< 
75a74,75
> 		this->enablePin->set(false);                                			// Enable the driver - CHANGE THIS TO MAKE THE OUTPUT VALUE CONFIGURABLE???
> 
98d97
< 			this->isStepping = true;
100,103c99,102
< 	}
< 
< 
< }
---
> 		else
> 		{
> 			this->stepPin->set(false);										// Reset step pin
> 		}
104a104,108
> 	}
> 	else
> 	{
> 		this->enablePin->set(true);
> 	}
106,109d109
< void Stepgen::stopPulses()
< {
< 	this->stepPin->set(false);	// Reset step pin
< 	this->isStepping = false;
112d111
< 
117d115
< 
